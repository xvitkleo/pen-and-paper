(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ca34fc3"],{"257e":function(t,e,a){"use strict";a("912b")},"3ab1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"room__container"},[t.userProfile.roomId?s("div",{staticClass:"room__content"},[s("div",{staticClass:"room__body"},[s("div",{staticClass:"room__menu"},[s("div",{staticClass:"room__tittle"},[s("h3",[t._v(" Bienvenido a la sala: "+t._s(t.room.name)+" ")]),t.isMenuOpen?t._e():s("img",{staticClass:"menu__arrow",attrs:{src:a("9a9d"),alt:""},on:{click:function(e){t.isMenuOpen=!t.isMenuOpen}}}),t.isMenuOpen?s("img",{staticClass:"menu__close",attrs:{src:a("bf37"),alt:""},on:{click:function(e){t.isMenuOpen=!t.isMenuOpen}}}):t._e(),t.isMenuOpen?s("div",{staticClass:"menu__box"},[t.room.hostId===t.userProfile.id?s("div",[s("custom-button",{attrs:{variant:"text2"},on:{click:function(e){t.isModalOpen=!0,t.isMenuOpen=!1}}},[t._v(" Ajustes de sala ")])],1):t._e(),s("div",[s("custom-button",{attrs:{variant:"text2-danger"},on:{click:t.leaveRoom}},[t._v(" Dejar sala ")])],1)]):t._e()]),s("div",{staticClass:"room__nav"},[s("router-link",{staticClass:"nav__link",attrs:{to:"/home/room/share","exact-active-class":"nav__link--active"}},[s("div",{staticClass:"sidebar__item"},[t._v("Pantalla")])]),s("router-link",{staticClass:"nav__link",attrs:{to:"/home/room/files","exact-active-class":"nav__link--active"}},[s("div",{staticClass:"nav__item"},[t._v("Archivos")])]),s("router-link",{staticClass:"nav__link",attrs:{to:"/home/room/repository","exact-active-class":"nav__link--active"}},[s("div",{staticClass:"nav__item"},[t._v("Recursos")])])],1)]),s("div",{staticClass:"body__content"},[s("router-view",{staticClass:"view"})],1)]),s("chat")],1):s("div",{staticClass:"room__empty-state"},[s("h3",[t._v("No pertenece a ninguna sala")]),s("div")]),t.isModalOpen?s("modal",{attrs:{isOpen:t.isModalOpen},on:{close:function(e){t.isModalOpen=!1}}},[s("template",{slot:"title"},[t._v("Ajustes de sala")]),s("validation-observer",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit,n=e.invalid;return[s("form",{staticClass:"room__form",on:{submit:function(e){return e.preventDefault(),a(t.editRoom)}}},[s("custom-input",{attrs:{label:"Nombre de la sala",borderReverse:!0,rules:"required"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("custom-input",{attrs:{label:"Tema de la sala",borderReverse:!0,rules:"required"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}}),s("custom-input",{staticClass:"room__length",attrs:{label:"TamaÃ±o de la sala",type:"number",borderReverse:!0,rules:"required|positive|min_value:"+t.room.members.length},model:{value:t.length,callback:function(e){t.length=e},expression:"length"}}),s("div",[s("custom-button",{attrs:{type:"button",variant:"text2"},on:{click:function(e){t.isModalOpen=!1}}},[t._v(" Cancelar ")]),s("custom-button",{attrs:{type:"submit",disabled:n}},[t._v("Editar sala")])],1)],1)]}}],null,!1,3719361535)})],2):t._e()],1)},n=[],i=a("1da1"),r=a("5530"),o=(a("b0c0"),a("96cf"),a("2f62")),c=a("7bb1"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat__container"},[s("div",{staticClass:"chat__nav"},[s("h4",{class:{active:"chat"===t.tab},on:{click:function(e){t.tab="chat"}}},[t._v("Chat")]),s("h4",{class:{active:"members"===t.tab},on:{click:function(e){t.tab="members"}}},[t._v("Miembros")])]),"chat"===t.tab?s("div",{staticClass:"chat__box"},[t.messages.length?s("div",{ref:"chat",staticClass:"chat__messages"},[t._l(t.messages,(function(e){return[e.authorId!==t.userProfile.id?s("div",{key:e.id,staticClass:"chat__message"},[s("div",{staticClass:"chat__username"},[s("p",[t._v(" "+t._s(e.createdOn.seconds?new Date(1e3*e.createdOn.seconds).toLocaleTimeString():e.createdOn.toLocaleTimeString())+" \\"+t._s(e.authorName+">")+" ")])]),"text"===e.type?s("div",{staticClass:"chat__text"},[s("p",[t._v(t._s(e.content))])]):s("div",{staticClass:"chat__image"},[s("img",{attrs:{src:e.content,alt:""}})])]):s("div",{key:e.id,staticClass:"chat__message sender"},[s("div",{staticClass:"chat__username"},[s("p",[t._v(" <"+t._s(e.authorName)+"\\ "+t._s(e.createdOn.seconds?new Date(1e3*e.createdOn.seconds).toLocaleTimeString():e.createdOn.toLocaleTimeString())+" ")])]),"text"===e.type?s("div",{staticClass:"chat__text"},[s("p",[t._v(" "+t._s(e.content))])]):s("div",{staticClass:"chat__image"},[s("img",{attrs:{src:e.content,alt:""}})])])]}))],2):s("div",{staticClass:"chat__emptyState"},[s("img",{attrs:{src:a("3e11"),alt:""}})]),s("form",{staticClass:"chat__input-box",on:{submit:function(e){e.preventDefault(),t.sendMessage()}}},[s("div",{staticClass:"chat__inputs"},[s("div",{staticClass:"chat__upload-img"},[t._m(0),s("input",{staticClass:"hidden",attrs:{type:"file",name:"photo",id:"upload-img"},on:{change:t.handleFileChange}})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"chat__input",attrs:{type:"text",placeholder:"Escribe un mensaje >"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),s("img",{attrs:{src:a("5691"),alt:""},on:{click:t.sendMessage}})])]):s("div",{staticClass:"members__box"},[s("p",[t._v("MIEMBROS")]),t._l(t.room.members,(function(e){return[e.id!=t.room.hostId?s("div",{key:e.id,staticClass:"member__card"},[s("div",[s("img",{attrs:{src:e.photoURL||a("d1e1"),alt:""}})]),s("p",[t._v(t._s(e.memberName))])]):t._e()]})),s("div",{staticClass:"line"}),s("p",[t._v("ADMIN")]),s("div",{staticClass:"member__card"},[s("div",[s("img",{attrs:{src:t.room.members.filter((function(e){return e.id===t.room.hostId}))[0].photoURL||a("d1e1"),alt:"profilePicture"}})]),s("p",[t._v(t._s(t.room.hostName))])])],2)])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"upload-img"}},[s("img",{staticClass:"selectPicture__btn",attrs:{src:a("9443"),alt:""}})])}],u={name:"Chat",components:{},props:{},data:function(){return{message:"",tab:"chat"}},methods:{handleFileChange:function(t){var e=this,a=0;this.selectedFile=t.target.files[a];var s=new FileReader;s.readAsDataURL(this.selectedFile),s.onload=function(t){var a=new Image;a.src=t.target.result,t.target.result&&e.$store.dispatch("sendMessage",{messageContent:t.target.result,messageType:"image"}),e.$refs.chat.scrollTop=0}},sendMessage:function(){""!==this.message&&this.$store.dispatch("sendMessage",{messageContent:this.message,messageType:"text"}),this.message="",this.$refs.chat.scrollTop=0}},mounted:function(){},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])(["userProfile","rooms","messages","room"])),Object(o["b"])(["getRoomById"]))},m=u,_=(a("257e"),a("2877")),v=Object(_["a"])(m,l,d,!1,null,"56379696",null),p=v.exports,f=a("933f"),h=a("ffcc"),b=a("714b"),g={name:"Room",components:{chat:p,CustomButton:f["a"],Modal:b["a"],CustomInput:h["a"],ValidationObserver:c["a"]},data:function(){return{searchField:"",isMenuOpen:!1,isModalOpen:!1,name:"",theme:"",length:""}},methods:Object(r["a"])(Object(r["a"])({},Object(o["c"])(["setAlert","setLoadingState"])),{},{leaveRoom:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("leaveRoom");case 3:t.setAlert({state:"success",message:"Ha dejado la sala"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.setAlert({state:"error",message:"No ha podido dejar la sala, intentelo de nuevo"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},editRoom:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.setLoadingState(!0),e.prev=1,e.next=4,t.$store.dispatch("updateRooms",Object(r["a"])(Object(r["a"])({},t.room),{},{id:t.room.id,name:""!==t.name?t.name:t.room.name,theme:""!==t.theme?t.theme:t.room.theme,length:""!==t.length?t.length:t.room.length}));case 4:t.setAlert({state:"success",message:"Sala actualizada"}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](1),t.setAlert({state:"error",message:"No se ha podido editar la sala, intentelo de nuevo"}),t.setLoadingState(!1);case 11:t.name="",t.theme="",t.length="",t.setLoadingState(!1),t.isModalOpen=!1;case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}),mounted:function(){this.name=this.room.name,this.theme=this.room.name,this.length=this.room.length},beforeUpdate:function(){this.name=this.room.name,this.theme=this.room.name,this.length=this.room.length},computed:Object(r["a"])({},Object(o["d"])(["userProfile","rooms","room","files"]))},C=g,O=(a("86e9"),Object(_["a"])(C,s,n,!1,null,"7c55d7ea",null));e["default"]=O.exports},"3e11":function(t,e,a){t.exports=a.p+"img/chatEmptyState.bfcd33ae.svg"},"474b":function(t,e,a){"use strict";a("aad4")},"52d8":function(t,e,a){},5691:function(t,e,a){t.exports=a.p+"img/chatEnter.c65b828f.svg"},"714b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[t.isOpen?s("div",{staticClass:"modal__mask"},[s("div",{staticClass:"modal__container"},[s("div",{staticClass:"modal__close",on:{click:function(e){return t.$emit("close")}}},[s("img",{attrs:{src:a("bf37"),alt:""}})]),s("div",{staticClass:"modal__body"},[t.$slots.title?s("h3",{staticClass:"modal__title"},[t._t("title")],2):t._e(),t.$slots.description?s("p",{staticClass:"modal__description"},[t._t("description")],2):t._e(),t._t("default")],2),t.$slots.footer?s("div",{staticClass:"modal__footer"},[t._t("footer")],2):t._e()])]):t._e()])},n=[],i={name:"Modal",props:{isOpen:Boolean},destroyed:function(){this.$emit("close")}},r=i,o=(a("fef7"),a("2877")),c=Object(o["a"])(r,s,n,!1,null,"e84ad502",null);e["a"]=c.exports},"86e9":function(t,e,a){"use strict";a("d5b2")},"912b":function(t,e,a){},"933f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.to?a("router-link",{staticClass:"btn",class:t.btnVariant,attrs:{to:t.to}},[t._t("default")],2):t.href?a("a",{staticClass:"btn",class:t.btnVariant,attrs:{href:t.href,target:"_blank",rel:"noopener noreferrer"}},[t._t("default")],2):a("button",{staticClass:"btn",class:t.btnVariant,attrs:{type:t.type,disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)},n=[],i={name:"CustomButton",props:{to:String,href:String,variant:String,type:String,disabled:Boolean},computed:{btnVariant:function(){switch(this.variant){case"text":return"btn__text";case"text2":return"btn__text2";case"text2-danger":return"btn__text2--danger";case"danger":return"btn__danger";default:return"btn__primary"}}}},r=i,o=(a("474b"),a("2877")),c=Object(o["a"])(r,s,n,!1,null,"7abc24b2",null);e["a"]=c.exports},9443:function(t,e,a){t.exports=a.p+"img/sendPicture.97473e1e.svg"},"9a9d":function(t,e,a){t.exports=a.p+"img/downArrow.9aeee348.svg"},aad4:function(t,e,a){},bf37:function(t,e,a){t.exports=a.p+"img/close.668c310c.svg"},d1e1:function(t,e,a){t.exports=a.p+"img/profilePicture.b8b9d61e.svg"},d5b2:function(t,e,a){},dcef:function(t,e,a){},fc27:function(t,e,a){"use strict";a("52d8")},fef7:function(t,e,a){"use strict";a("dcef")},ffcc:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationProvider",{staticClass:"input",class:{"input--invalid":t.failedValidation},attrs:{tag:"div",name:t.name||t.label,rules:t.rules,vid:t.vid},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,n=e.required;return[a("div",{staticClass:"input__info"},[t.label?a("label",{staticClass:"label",class:{error:s[0]},attrs:{for:t.id}},[a("span",[t._v(t._s(t.label))]),a("span",[t._v(" "+t._s(n?"*":"")+" ")])]):t._e(),s[0]?a("span",{staticClass:"message",class:{error:s[0]}},[t._t("error-message",[t._v("- "+t._s(s[0]))])],2):t._e()]),a("input",{staticClass:"input__input",class:{border:t.border,borderReverse:t.borderReverse,"field--invalid":s.length},attrs:{id:t.id,type:t.type,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),a("span",{staticClass:"icon"},[t._t("icon")],2)]}}],null,!0)})},n=[],i=a("7bb1"),r={name:"CustomInput",components:{ValidationProvider:i["b"]},props:{label:String,id:String,value:String,placeholder:String,disabled:Boolean,type:String,vid:String,name:{type:String,default:""},rules:{default:"",type:[String,Object]},border:{type:Boolean,required:!1,default:!0},borderReverse:{type:Boolean,required:!1,default:!1},failedValidation:Boolean,required:{default:!1}}},o=r,c=(a("fc27"),a("2877")),l=Object(c["a"])(o,s,n,!1,null,"d99a1e08",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-1ca34fc3.d3e52d66.js.map